{% extends "base.html" %}



{% block content %}
<div class="container history-container">
    <h2 class="history-heading">History</h2>
    <table class="table history-table">
        <thead>
            <tr>
                <th scope="col">File URL</th>
                <th scope="col">Extracted Data</th>
            </tr>
        </thead>
        <tbody>
            {% for file in uploaded_files %}
            <tr>
                <td><a href="{{ file.file.url }}" target="_blank">{{ file.file.name|cut:"media/" }}</a></td>
                <td>
                    <textarea readonly class="form-control text-area">{{ file.extracted_text|default:"No text extracted" }}</textarea>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="2" class="no-history">No history found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<style>
    body {
        background-color: #f0f2f5;
    }
    .history-container {
        margin-top: 2rem;
        padding: 1rem;
        background-color: #ffffff; 
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1); 
    }
    .history-heading {
        color: #0056b3; 
        margin-bottom: 1rem;
    }
    .history-table {
        width: 100%;
        margin-top: 1rem;
    }
    .history-table th {
        background-color: #007bff; 
        color: white;
        padding: 12px 15px;
        border-radius: 5px; 
        text-align: left;
    }
    .history-table td {
        background-color: #e9ecef; 
        padding: 10px 15px;
        border-radius: 5px; 
        transition: background-color 0.3s;
    }
    .history-table tr:not(:last-child) td {
        margin-bottom: 10px; 
    }
    .history-table tbody tr:hover td {
        background-color: #dae0e5; 
    }
    .history-table a {
        color: #007bff;
        text-decoration: none;
    }
    .history-table a:hover {
        text-decoration: underline;
    }
    .no-history {
        text-align: center;
        padding: 20px;
    }
    .text-area {
        width: 100%;    
        height: 100px;
        overflow-y: auto;
        resize: vertical; 
        background-color: #fdfdfe; 
        border: 1px solid #ced4da; 
        padding: 0.375rem 0.75rem;
        border-radius: 0.25rem;
        transition: border 0.2s ease-in-out; 
    }
    .text-area:hover {
        border-color: #adb5bd; 
    }
</style>
{% endblock %}
